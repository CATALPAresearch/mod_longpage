define(["jquery","core/ajax",M.cfg.wwwroot+"/mod/page/lib/build/vue.min"],(function(e,t,n){n.component("CourseRecommondation",{props:["hideTabContent","log"],data:function(){return{serverPath:"http://127.0.0.1:8080/course-recommender",courses:[],blacklist:[1144,2333,2337,2351,2355,2353,2366,1662,1664,1666,1671,1661,1672,1675,1665,1810,1602,1603,1358]}},mounted:function(){let t=this;this.getRelatedUnits();e("longpage-container").each((function(n){e(this).text();t.getRelatedUnits("Rechnernetze",e(this))}))},methods:{getRelatedUnits:function(t,n){let o=this;e.ajax({method:"POST",url:this.serverPath,data:{text:t},dataType:"jsonp",crossDomain:!0,success:function(e){o.courses=o.clean(e)},error:function(e){console.error(e)}})},clean:function(e){let t=this,n=[],o="";for(var i=0;i<e.length;i++)if(o=e[i][0].replace("_t.pickle","").split("/"),-1===t.blacklist.indexOf(parseInt(o[2].substr(0,4),10))){let t={course:o[2],unit:o[3],confidence:e[i][1].toFixed(2)};n.push(t)}return n}},template:'\n        <div>\n            <button type="button" class="close ml-auto align-self-center d-block" aria-label="Close" v-on:click="$emit(\'hideTabContent\')">\n                <span aria-hidden="true">&times;</span>\n            </button>\n            <ul>\n                <li v-for="course in courses">{{ course.course}}: {{course.unit}} ({{course.confidence}})</li>\n            </ul>\n        </div>'})}));