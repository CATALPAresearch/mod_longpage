define(["jquery",M.cfg.wwwroot+"/mod/page/lib/build/vue.min"],(function(t,n){n.component("TableOfContent",{props:["hideTabContent"],data:function(){return{}},mounted:function(){this.generateTableOfContent(),t(".nav-link-h4").click((function(){})),t(".nav-link-h3").click((function(){}))},methods:{generateTableOfContent:function(){var n={},e={},i={},l=0,a=0;t(".longpage-container h3, .longpage-container h4").each((function(){if(t(this).is("h3")){t(this).attr("id","xh3item-"+l),i="<li class='nav-item'><a class='nav-link nav-link-h3' data-parent='#toclist' data-toggle='collapse' data-target='#h3item-"+l+"' href='#xh3item-"+l+"'>"+t(this).text()+"</a></li>",e=t("<ul></ul>").addClass("nav flex-column ml-3"),n=t(i),t(".nav-link-h3").click((function(n){var e=t(this).attr("href");window.location.href=window.location.href.split("#")[0]+e;var i=window.scrollY||window.scrollTop||document.getElementsByTagName("html")[0].scrollTop||window.pageYOffset;window.scroll({top:i-30,left:0,behavior:"smooth"}),console.log(i,e,window.scrollY)}));var o=t("<div></div>").attr("id","h3item-"+l).addClass("collapse").append(e);n.append(o),window.toclist?n.appendTo("#toclist"):console.log("Could not find toclist"),l++}else t(this).is("h4")&&(t(this).attr("id","h4item-"+a),i="<li class='nav-item'><a class='nav-link nav-link-h4' href='#h4item-"+a+"'>"+t(this).text()+"</a></li>",e.append(i),a++)}))}},template:'\n                <div class="m-auto" style="max-height:80vh; overflow:auto">\n                    <button type="button" class="close ml-auto align-self-center d-block" aria-label="Close" v-on:click="$emit(\'hideTabContent\')">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                    <br>\n                    <ul id="toclist" class="nav-pills"></ul>\n                </div>\n            '})}));