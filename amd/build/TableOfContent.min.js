define(["jquery",M.cfg.wwwroot+"/mod/page/lib/build/vue.min"],(function(t,n){n.component("TableOfContent",{props:["hideTabContent","log"],data:function(){return{}},mounted:function(){this.generateTableOfContent();let n=this;t(".nav-link-h4").click((function(){n.$emit("log","toc_entry_open",{level:"h4",target:t(this).attr("href")})})),t(".nav-link-h3").click((function(){n.$emit("log","toc_entry_open",{level:"h3",target:t(this).attr("href")})}))},methods:{generateTableOfContent:function(){var n={},e={},l={},i=0,a=0;t(".longpage-container h3, .longpage-container h4").each((function(){if(t(this).is("h3")){t(this).attr("id","xh3item-"+i),l="<li class='nav-item'><a class='nav-link nav-link-h3' data-parent='#toclist' data-toggle='collapse' data-target='#h3item-"+i+"' href='#xh3item-"+i+"'>"+t(this).text()+"</a></li>",e=t("<ul></ul>").addClass("nav flex-column ml-3"),n=t(l),t(".nav-link-h3").click((function(n){var e=t(this).attr("href");window.location.href=window.location.href.split("#")[0]+e;var l=window.scrollY||window.scrollTop||document.getElementsByTagName("html")[0].scrollTop||window.pageYOffset;window.scroll({top:l-30,left:0,behavior:"smooth"}),console.log(l,e,window.scrollY)}));var o=t("<div></div>").attr("id","h3item-"+i).addClass("collapse").append(e);n.append(o),window.toclist?n.appendTo("#toclist"):console.log("Could not find toclist"),i++}else t(this).is("h4")&&(t(this).attr("id","h4item-"+a),l="<li class='nav-item'><a class='nav-link nav-link-h4' href='#h4item-"+a+"'>"+t(this).text()+"</a></li>",e.append(l),a++)}))}},template:'\n                <div class="m-auto" style="max-height:80vh; overflow:auto">\n                    <button type="button" class="close ml-auto align-self-center d-block" aria-label="Close" v-on:click="$emit(\'hideTabContent\')">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                    <br>\n                    <ul id="toclist" class="nav-pills"></ul>\n                </div>\n            '})}));