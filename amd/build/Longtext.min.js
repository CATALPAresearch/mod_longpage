define(["jquery",M.cfg.wwwroot+"/mod/page/amd/src/Components/ReadingTime.js",M.cfg.wwwroot+"/mod/page/amd/src/Components/TableOfContent.js",M.cfg.wwwroot+"/mod/page/amd/src/Components/Search.js",M.cfg.wwwroot+"/mod/page/amd/src/Components/ReadingProgress.js",M.cfg.wwwroot+"/mod/page/amd/src/Components/CourseRecommondation",M.cfg.wwwroot+"/mod/page/amd/src/Components/Bookmark"],(function(n,a,t,e,o,s,i){return function(l,c,r,d,b){l.component("TableOfContent",t),l.component("Search",e),l.component("ReadingProgress",o),l.component("ReadingTime",a),l.component("CourseRecommondation",s),l.component("Bookmark",i);new l({el:"longpage-container",store:(new c).store,data:function(){return{pagename:"",tabContentVisible:!1,filter_assessment:!0,filter_text:!0,content:[]}},components:{},mounted:function(){console.log("store",this.$store.state.bam),this.pagename=b,n(".longpage-citation").click((function(){this.log("citation_view",{citation:n(this).data("content")})})),n(".longpage-footnote").click((function(){this.log("footnote_view",{title:n(this).find("button").data("original-title"),text:n(this).find("button").data("content")})})),n(".longpage-crossref").click((function(){this.log("crossref_follow",{source:n(this).text(),target:n(this).attr("href"),parent:n(this).parent().attr("id")})})),n(".longpage-assignment-link").click((function(){this.log("assignment_open",{target:n(this).attr("href")})}))},computed:{filteredContent:function(){var n=Object.values(this.content).filter((function(n){return!("assessment"!==n.type||!this.filter_assessment)||!("content"!==n.type||!this.filter_text)}));return Object.values(n).filter((function(n){return""}))}},methods:{log(n,a){d.add(n,a)},showTabContent(){this.tabContentVisible=!0},hideTabContent(){this.tabContentVisible=!1},decode:function(n){return n.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,"")}},template:'\n                <div>\n                    <nav id="longpage-navbar" class="navbar-expand navbar-light bg-light py-2 mx-0 pl-1 pr-2">\n                        <div class="row w-100 px-0 mx-0">\n                            <span class="title-toc col-4 col-sm-4 col-xs-12">\n                                <a class="navbar-brand">{{ pagename }}</a>\n                            </span>\n                            <div class="col-4 col-sm-4 col-xs-4">\n                                <ul class="nav nav-tabs" id="longpageFeatures" role="tablist">\n                                    <li class="nav-item">\n                                        <a class="nav-link" id="toc-tab" data-toggle="tab" href="#tableofcontent" role="tab" aria-controls="tableofcontents" aria-selected="false" @click="showTabContent()">\n                                            <i class="fa fa-list"></i>\n                                        </a>\n                                    </li>\n                                    <li class="nav-item">\n                                        <a class="nav-link" id="concepts-tab" data-toggle="tab" href="#concepts" role="tab" aria-controls="concepts" aria-selected="false" @click="showTabContent()">\n                                            <i class="fa fa-map"></i>\n                                        </a>\n                                    </li>\n                                    <li class="nav-item">\n                                        <a class="nav-link" id="tests-tab" data-toggle="tab" href="#tests" role="tab" aria-controls="tests" aria-selected="false" @click="showTabContent()">\n                                            <i class="fa fa-check"></i>\n                                        </a>\n                                    </li>\n                                    <li class="nav-item">\n                                        <a class="nav-link" id="bookmarks-tab" data-toggle="tab" href="#bookmarks" role="tab" aria-controls="bookmarkss" aria-selected="false" @click="showTabContent()">\n                                            <i class="fa fa-bookmark"></i>\n                                        </a>\n                                    </li>\n                                    <li class="nav-item">\n                                        <a class="nav-link" id="annotations-tab" data-toggle="tab" href="#annotations" role="tab" aria-controls="annotations" aria-selected="false" @click="showTabContent()">\n                                            <i class="fa fa-pencil"></i>\n                                        </a>\n                                    </li>\n                                    <li class="nav-item">\n                                        <a class="nav-link" id="search-tab" data-toggle="tab" href="#search" role="tab" aria-controls="search" aria-selected="false" @click="showTabContent()">\n                                            <i class="fa fa-search"></i>\n                                        </a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                        \n                        \x3c!-- --\x3e\n                        <div :style="{visibility: tabContentVisible ? \'visible\' : \'hidden\'}" class="tab-content" id="myTabContent">\n                            <div class="tab-pane fade" id="tableofcontent" role="tabpanel" aria-labelledby="toc-tab">\n                                <TableOfContent @hideTabContent=\'hideTabContent\' v-on:log=\'log\'></TableOfContent>\n                            </div>\n                            <div class="tab-pane fade" id="concepts" role="tabpanel" aria-labelledby="toc-tab">\n                                <CourseRecommondation @hideTabContent=\'hideTabContent\' v-on:log=\'log\'></CourseRecommondation>\n                            </div>\n                            <div class="tab-pane fade" id="tests" role="tabpanel" aria-labelledby="toc-tab">\n                                Tests\n                                <button type="button" class="close ml-auto align-self-center d-block" aria-label="Close" v-on:click="hideTabContent()">\n                                    <span aria-hidden="true">&times;</span>\n                                </button>\n                            </div>\n                            <div class="tab-pane fade" id="bookmarks" role="tabpanel" aria-labelledby="toc-tab">\n                                Lesezeichen:\n                                <ul>\n                                    <li></li>\n                                </ul>\n                            </div>\n                            <div class="tab-pane fade" id="annotations" role="tabpanel" aria-labelledby="toc-tab">\n                                Annotations\n                                <button type="button" class="close ml-auto align-self-center d-block" aria-label="Close" v-on:click="hideTabContent()">\n                                    <span aria-hidden="true">&times;</span>\n                                </button>\n                            </div>\n                            <div class="search-pane fade" id="search" role="tabpanel" aria-labelledby="search-tab">\n                                <Search @hideTabContent=\'hideTabContent\' v-on:log=\'log\'></Search>\n                            </div>\n                        </div>\n                    </nav>\n                    <ReadingTime></ReadingTime>\n                    <ReadingProgress v-on:log=\'log\'></ReadingProgress>\n                    <Bookmark v-on:log=\'log\'></Bookmark>\n                </div>\n            '})}}));